function CustomEvent(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}!function(){var a=!1,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in c)f[g]="function"==typeof c[g]&&"function"==typeof e[g]&&b.test(c[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,c[g]):c[g];return d.prototype=f,d.prototype.constructor=d,d.extend=arguments.callee,d}}(),function(){"use strict";var a=Class.extend({init:function(a,b){if(!a)throw new ReferenceError("The rootScope must be supplied to have a valid view");this.response=b,this.rootScope=a},rootScope:void 0,response:void 0,version:"0.5.1",noResults:"<div class='no-results'>Sorry There are No Results Available</div>",mainTitle:document.querySelector(".view-title"),getRoute:function(){return void 0!==this.response?this.response.path:window.location.hash.replace("#!","")},getPath:function(){return window.location.hash.replace("#!","")},getParams:function(){var a=this.getPath(),b=a.split("/:").slice(1);return b},newRoute:function(a){window.location.hash="#!"+a}});return window.Controller=a}(),function(a,b){"use strict";var c=function(a,b){return new c.fn.init(a,b)};return c.fn=c.prototype={constructor:c,init:function(b,c){return b?("string"==typeof b&&(b=document.querySelectorAll(b)),this.node="length"in b?b:[b],this.settings=$.extend({},this.settings,c),this.support=$.buildVendorNames(),this.touchType=a.navigator.msPointerEnabled?"pointer":"ontouchstart"in a?"touch":"mouse",this.hasMouse="ontouchstart"in a&&"onmousedown"in a,this.touchStart="pointer"===this.touchType?"MSPointerDown":"touch"===this.touchType?"touchstart":"mousedown",this.touchEnd="pointer"===this.touchType?"MSPointerUp":"touch"===this.touchType?"touchend":"mouseup",this.touchOut="pointer"===this.touchType?"MSPointerOut":"touch"===this.touchType?"touchcancel":"mouseout",this.touchMove="pointer"===this.touchType?"MSPointerMove":"touch"===this.touchType?"touchmove":"mousemove",this.touchCancel="pointer"===this.touchType?"MSPointerCancel":"touch"===this.touchType?"touchcancel":"mouseout",this.hasmsGesture?this.setupMSGesture():(this.setUpTouchGestures(),this.setupTouch()),this):b},version:"0.0.7",hasMouse:"",touchType:"",touchStart:"",touchEnd:"",touchOut:"",touchMove:"",touchCancel:"",hasmsGesture:a.MSGesture,setUpTouchGestures:function(){var a=this;try{[].forEach.call(this.node,function(b){b.addEventListener("gesturestart",function(){}),b.addEventListener("gesturechange",function(b){a.gestureChange.call(a,b)}),b.gStartScale=1,b.gStartRotation=0})}catch(b){return console.error("setUpTouchGestures is broken \r\n"+tl.innerText),!1}},setupMSGesture:function(){var a=this,b=this.settings;try{[].forEach.call(this.node,function(c){var d=new MSGesture;d&&(d.target=c,c.addEventListener("MSPointerDown",function(e){d.target&&(d.addPointer(e.pointerId),a.setupSwipe(e,c,b))}),c.addEventListener("MSGestureChange",function(b){a.msGestureChange.call(a,b)}),c.addEventListener("MSPointerDown",function(d){a.doDoubleTap(d,c,b)}),c.addEventListener("MSGestureEnd",function(b){a.endGesture(b)}))})}catch(c){return!1}},endGesture:function(){this.swipping=!1,this.swipeX=null,this.swipeY=null},swipeRightCallback:function(){},swipeLeftCallback:function(){},swipeUpCallback:function(){},swipeDownCallback:function(){},moveCallback:function(){},moveHorizontalCallback:function(){},moveVerticalCallback:function(){},rotateCallback:function(){},scaleCallback:function(){},tapCallback:function(){},doubleTapCallback:function(){},processGestureChange:function(a,b){var c=this,d=this.settings,e=a.target;e.hasAttribute(d.rotateIndicator)&&Math.abs(a.rotation)>d.rotateThreshold&&(d.autoRotate&&(e.style.transform=b.rotate(180*a.rotation/Math.PI)),this.rotateCallback(a,b)),e.hasAttribute(d.scaleIndicator)&&Math.abs(a.scale)>d.scaleThreshold&&(d.autoScale&&(e.style.transform=b.scale(a.scale)),this.scaleCallback(a,b)),e.hasAttribute(d.moveIndicator)&&(Math.abs(a.translationX)>d.moveThreshold||Math.abs(a.translationY)>d.moveThreshold)&&(d.autoMove&&(e.style.transform=b.translate(a.translationX,a.translationY,0)),this.moveCallback(a,b)),e.hasAttribute(d.horizontalIndicator)&&Math.abs(a.translationX)>d.moveThreshold&&(d.autoHorizontalMove&&(a.target.style.transform=b.translate(a.translationX,0,0)),this.moveHorizontalCallback(a,b)),e.hasAttribute(d.verticalIndicator)&&Math.abs(a.translationY)>d.moveThreshold&&(d.autoVerticalMove&&(a.target.style.transform=b.translate(0,a.translationY,0)),this.moveVerticalCallback(a,b)),c.processSwipe(e,a,d,b)},processSwipe:function(a,b,c,d){var e=this;if(d=d||{},a.hasAttribute(c.swipeRight)&&!e.swipping&&(null===e.swipeX?e.swipeX=b.clientX:a.hasAttribute(c.swipeRightInit)&&b.clientX>e.swipeX&&b.clientX-e.swipeX>c.swipeRightThreshold&&(e.swipping||(e.swipping=!0,e.swipeX=null,e.swipeY=null,e.swipeRightCallback(b,d)))),a.hasAttribute(c.swipeLeft)&&!e.swipping&&(null===e.swipeX?e.swipeX=b.clientX:a.hasAttribute(c.swipeLeftInit)&&b.clientX<e.swipeX&&b.clientX-e.swipeX<c.swipeLeftThreshold&&(e.swipping||(e.swipping=!0,e.swipeX=null,e.swipeY=null,e.swipeLeftCallback(b,d)))),a.hasAttribute(c.swipeUp)&&!e.swipping)if(null===e.swipeY)e.swipeY=b.clientY;else{var f=b.clientY>=0?b.clientY:0;a.hasAttribute(c.swipeUpInit)&&b.clientY<e.swipeY&&f-e.swipeY<c.swipeUpThreshold&&(e.swipping||(e.swipping=!0,e.swipeX=null,e.swipeY=null,e.swipeUpCallback(b,d)))}a.hasAttribute(c.swipeDown)&&!e.swipping&&(null===e.swipeY?e.swipeY=b.clientY:a.hasAttribute(c.swipeDownInit)&&b.clientY>e.swipeY&&b.clientY-e.swipeY>c.swipeDownThreshold&&(e.swipping||(e.swipping=!0,e.swipeY=null,e.swipeX=null,e.swipeDownCallback(b,d))))},swipping:!1,swipeX:null,swipeY:null,gestureChange:function(a){var b=a.target,c=this.settings;b.hasAttribute(c.rotateIndicator)&&Math.abs(a.rotation)>c.rotateThreshold&&this.rotateCallback(a),b.hasAttribute(c.scaleIndicator)&&Math.abs(a.scale)>c.scaleThreshold&&this.scaleCallback(a)},msGestureChange:function(b){a.MSCSSMatrix&&this.processGestureChange(b,new MSCSSMatrix(b.target.style.transform))},calculateTranslation:function(a,b){return{translationX:b.x-a.x,translationY:b.y-a.y}},setupIndicator:function(a,c,d,e,f){var g=this,h=g.settings;a!==b&&(g[c]=a),d&&(g.settings[e]=d),[].forEach.call(g.node,function(a){a.setAttribute(h[f],"true")})},PreventDefaultManipulationAndMouseEvent:function(a){return a.preventDefault?void a.preventDefault():a.preventManipulation?void a.preventManipulation():a.preventMouseEvent?void a.preventMouseEvent():void 0},getTouchPoints:function(a){var b,c=this,d="undefined"!=typeof a.changedTouches?a.changedTouches:[a],e=d[d.length-1];return b="pointer"===c.touchType?{x:e.x,y:e.y}:"touch"===c.touchType?{x:e.pageX,y:e.pageY}:{x:a.pageX,y:a.pageY}},node:b,div:b,support:{},doDoubleTap:function(a,b,c){var d=this;b.hasAttribute(c.doubleTapIndicator)&&b.hasAttribute(c.doubleTapStart)&&(b.removeAttribute(c.doubleTapStart),clearTimeout(b.getAttribute(c.doubleTapStart)),d.doubleTapCallback(a)),b.hasAttribute(c.doubleTapIndicator)&&!b.hasAttribute(c.doubleTapStart)&&b.setAttribute(c.doubleTapStart,setTimeout(function(){b.removeAttribute(c.doubleTapStart),clearTimeout(b.getAttribute(c.doubleTapStart))},c.doubleTapThreshold))},setupSwipe:function(a,b,c){var d=this;b.hasAttribute(c.swipeRight)&&(b.removeAttribute(c.swipeRightEnd),b.hasAttribute(c.swipeRightInit)||b.setAttribute(c.swipeRightInit,JSON.stringify(d.getTouchPoints(a)))),b.hasAttribute(c.swipeLeft)&&(b.removeAttribute(c.swipeLeftEnd),b.hasAttribute(c.swipeLeftInit)||b.setAttribute(c.swipeLeftInit,JSON.stringify(d.getTouchPoints(a)))),b.hasAttribute(c.swipeUp)&&(b.removeAttribute(c.swipeUpEnd),b.hasAttribute(c.swipeUpInit)||b.setAttribute(c.swipeUpInit,JSON.stringify(d.getTouchPoints(a)))),b.hasAttribute(c.swipeDown)&&(b.removeAttribute(c.swipeDownEnd),b.hasAttribute(c.swipeDownInit)||b.setAttribute(c.swipeDownInit,JSON.stringify(d.getTouchPoints(a))))},setupTouch:function(){var a=this,b=this.settings;[].forEach.call(this.node,function(c){var d=function(d){a.touchMoveHandler.call(a,d,c,b)},e=function(d){a.endTouchHandler.call(a,d,c,b)},f=function(d){a.startTouchHandler.call(a,d,c,b)};c.addEventListener(a.touchStart,f),c.addEventListener(a.touchMove,d),c.addEventListener(a.touchEnd,e),c.addEventListener(a.touchCancel,e),c.addEventListener(a.touchEnd,function(){}),c.addEventListener(a.touchCancel,function(){}),c.addEventListener(a.touchOut,function(){})})},startTouchHandler:function(a,b,c){var d=this;c=this.settings,b.hasAttribute(c.moveIndicator)&&(b.removeAttribute(c.moveTouchEnded),b.hasAttribute(c.moveTouchInitial)||b.setAttribute(c.moveTouchInitial,JSON.stringify(d.getTouchPoints(a)))),b.hasAttribute(c.horizontalIndicator)&&(b.removeAttribute(c.horizontalTouchEnd),b.hasAttribute(c.horizontalTouchInit)||b.setAttribute(c.horizontalTouchInit,JSON.stringify(d.getTouchPoints(a)))),b.hasAttribute(c.verticalIndicator)&&(b.removeAttribute(c.verticalTouchEnd),b.hasAttribute(c.verticalTouchInit)||b.setAttribute(c.verticalTouchInit,JSON.stringify(d.getTouchPoints(a)))),d.setupSwipe(a,b,c),b.hasAttribute(c.tapIndicator)&&!b.hasAttribute(c.tapStart)&&b.setAttribute(c.tapStart,setTimeout(function(){clearTimeout(b.getAttribute(c.tapStart)),b.removeAttribute(c.doubleTapStart)},700)),d.doDoubleTap(a,b,c)},endTouchHandler:function(a,b,c){var d=this;c=this.settings,b.hasAttribute(c.moveTouchInitial)&&b.setAttribute(c.moveTouchEnded,"true"),b.hasAttribute(c.horizontalIndicator)&&b.setAttribute(c.horizontalTouchEnd,"true"),b.hasAttribute(c.verticalIndicator)&&b.setAttribute(c.verticalTouchEnd,"true"),b.hasAttribute(c.swipeRight)&&(d.swipping=!1,b.setAttribute(c.swipeRightEnd,"true"),b.removeAttribute(c.swipeRightInit)),b.hasAttribute(c.swipeLeft)&&(d.swipping=!1,b.setAttribute(c.swipeLeftEnd,"true"),b.removeAttribute(c.swipeLeftInit)),b.hasAttribute(c.swipeUp)&&(d.swipping=!1,b.setAttribute(c.swipeUpEnd,"true"),b.removeAttribute(c.swipeUpInit)),b.hasAttribute(c.swipeDown)&&(d.swipping=!1,b.setAttribute(c.swipeDownEnd,"true"),b.removeAttribute(c.swipeDownInit)),b.hasAttribute(c.tapIndicator)&&b.hasAttribute(c.tapStart)&&(d.tapCallback(a),clearTimeout(b.getAttribute(c.tapStart)),b.removeAttribute(c.tapStart))},touchMoveHandler:function(a,b,c){var d=this;c=this.settings,b.hasAttribute(c.moveIndicator)&&!b.hasAttribute(c.moveTouchEnded)&&b.hasAttribute(c.moveTouchInitial)&&(e=JSON.parse(b.getAttribute(c.moveTouchInitial)),f=d.getTouchPoints(a),g=d.calculateTranslation(e,f),b.style[d.support.transform]="translate3D("+g.translationX+"px, "+g.translationY+"px, 0)");var e,f,g;b.hasAttribute(c.horizontalIndicator)&&!b.hasAttribute(c.horizontalTouchEnd)&&b.hasAttribute(c.horizontalTouchInit)&&(console.log("should -horizontal move"),e=JSON.parse(b.getAttribute(c.horizontalTouchInit)),f=d.getTouchPoints(a),g=d.calculateTranslation(e,f),Math.abs(g.translationX)>d.settings.moveThreshold&&(b.style[d.support.transform]="translate3D("+g.translationX+"px, 0, 0)")),b.hasAttribute(c.verticalIndicator)&&!b.hasAttribute(c.verticalTouchEnd)&&b.hasAttribute(c.verticalTouchInit)&&(e=JSON.parse(b.getAttribute(c.verticalTouchInit)),f=d.getTouchPoints(a),g=d.calculateTranslation(e,f),Math.abs(g.translationY)>d.settings.moveThreshold&&(b.style[d.support.transform]="translate3D(0, "+g.translationY+"px, 0)")),(b.hasAttribute(c.swipeRightInit)||b.hasAttribute(c.swipeLefttInit)||b.hasAttribute(c.swipeUpInit)||b.hasAttribute(c.swipeDownInit))&&(a.touches&&(a.clientX=a.touches[0].clientX,a.clientY=a.touches[0].clientY),d.processSwipe(b,a,c))},swipeRight:function(a,b){return this.setupIndicator(a,"swipeRightCallback",b,"swipeRightThreshold","swipeRight"),this},swipeLeft:function(a,b){return this.setupIndicator(a,"swipeLeftCallback",b,"swipeLeftThreshold","swipeLeft"),this},swipeUp:function(a,b){return this.setupIndicator(a,"swipeUpCallback",b,"swipeUpThreshold","swipeUp"),this},swipeDown:function(a,b){return this.setupIndicator(a,"swipeDownCallback",b,"swipeDownThreshold","swipeDown"),this},move:function(a){return this.setupIndicator(a,"moveCallback",0,"","moveIndicator"),this},horizontalMove:function(a){return this.setupIndicator(a,"moveHorizontalCallback",0,"","horizontalIndicator"),this},verticalMove:function(a){return this.setupIndicator(a,"moveVerticalCallback",0,"","verticalIndicator"),this},rotate:function(a){return this.setupIndicator(a,"rotateCallback",0,"","rotateIndicator"),this},scale:function(a){return this.setupIndicator(a,"scaleCallback",0,"","scaleIndicator"),this},tap:function(a){var b=this;return a||(a=function(){}),b.hasmsGesture?[].forEach.call(this.node,function(b){b.addEventListener("MSGestureTap",a,!1)}):this.setupIndicator(a,"tapCallback",0,"","tapIndicator"),this},dblTap:function(a){var b=this.settings;return a&&(b.doubleTapCallback=a),this.setupIndicator(a,"doubleTapCallback",0,"","doubleTapIndicator"),this},tapHold:function(a,b,c){var d=this;return a&&(d.tapHoldBeginCallback=a),this.hasmsGesture?(d.tapHoldBeginCallback=a,d.tapHoldEndCallback=b,d.tapHoldCancelCallback=c,[].forEach.call(this.node,function(a){d.preventTapHoldContext(a),a.addEventListener("MSGestureHold",function(a){d.tapHoldCallback.call(d,a)},!1)})):[].forEach.call(this.node,function(a){d.preventTapHoldContext(a),a.addEventListener(d.touchStart,function(b){d.setupTapHold(a,b)}),d.hasMouse&&a.addEventListener("mousedown",function(b){d.setupTapHold(a,b)})},!1),this},preventTapHoldContext:function(a){a.addEventListener("contextmenu",function(){},!1)},setupTapHold:function(a,b){var c,d=this;c=setTimeout(function(){d.tapHoldBeginCallback.call(d,b),clearTimeout(c)},500),a.addEventListener(d.touchEnd,function(){clearTimeout(c)},!1),a.addEventListener(d.touchCancel,function(){clearTimeout(c)},!1)},tapHoldBeginCallback:function(){},tapHoldEndCallback:function(){},tapHoldCancelCallback:function(){},tapHoldCallback:function(a){var b=this;a.detail&a.MSGESTURE_FLAG_BEGIN&&b.tapHoldBeginCallback.call(b,a),a.detail&a.MSGESTURE_FLAG_END&&b.tapHoldEndCallback.call(b,a),a.detail&a.MSGESTURE_FLAG_CANCEL&&b.tapHoldCancelCallback.call(b,a)},settings:{allowPageScroll:!0,logging:!1,swipeRightThreshold:25,swipeLeftThreshold:-25,swipeUpThreshold:-25,swipeDownThreshold:25,moveThreshold:0,rotateThreshold:0,scaleThreshold:0,doubleTapThreshold:700,tapIndicator:"data-tap",tapStart:"data-tap-start",tapEnded:"data-tap-end",doubleTapIndicator:"data-dbltap",doubleTapStart:"data-dbltap-start",doubleTapEnded:"data-dbltap-end",rotateIndicator:"data-rotate",rotateEnded:"data-rotate-ended",rotateInitial:"data-rotate-initial",scaleIndicator:"data-scale",scaleEnded:"data-scale-ended",scaleInitial:"data-scale-initial",moveIndicator:"data-move",moveTouchEnded:"data-move-touch-ended",moveTouchInitial:"data-move-touch-initial",swipeRight:"data-swiperight",swipeRightInit:"data-swiperight-init",swipeRightEnd:"data-swiperight-end",swipeLeft:"data-swipeleft",swipeLeftInit:"data-swipeLeft-init",swipeLeftEnd:"data-swipeleft-end",swipeUp:"data-swipeup",swipeUpInit:"data-swipeup-init",swipeUpEnd:"data-swipeup-end",swipeDown:"data-swipedown",swipeDownInit:"data-swipedown-init",swipeDownEnd:"data-swipedown-end",horizontalIndicator:"data-move-horizontal",horizontalTouchInit:"data-horizontal-touch-initial",horizontalTouchEnd:"data-horizontal-touch-ended",verticalIndicator:"data-move-vertical",verticalTouchInit:"data-vertical-touch-initial",verticalTouchEnd:"data-vertical-touch-ended",autoMove:!0,autoRotate:!0,autoScale:!0,autoHorizontalMove:!0,autoVerticalMove:!0}},c.fn.init.prototype=c.fn,a.deeptissue=c}(window),!function(a,b){"use strict";var c=function(a,b){var d,e,f=new c.fn.init(a,b);if(!a)return f.length=0,f;if("string"==typeof a)for(d=b&&b.nodeType?b.querySelectorAll(a):document.querySelectorAll(a),f.length=d.length,f.selector=a,e=0;e<d.length;e++)f[e]=d[e];else a.nodeType&&(f[0]=a,f.length=a.length?a.length:1);return f};return c.fn=c.prototype={constructor:c,init:function(){return this},version:"0.0.5",length:0,context:b,selector:"",rclass:/[\t\r\n]/g},c.trim=function(a){return null==a?"":a.trim(a)},c.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},c.isPlainObject=function(a){return"object"!=typeof a||a.nodeType||a===a.window?!1:a.constructor&&!Object.prototype.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},c.merge=function(){},c.each=function(a,c){if(c===b&&(c=a,a=this),this.isArray(a))for(var d=0,e=a.length;e>d;d++);},c.map=function(a,b){var c,d=0,e=a.length,f=this.isArray(a),g=[];if(f)for(;e>d;d++)c=b(a[d],d,arg),null!=c&&(g[g.length]=c);else for(d in a)c=b(a[d],d,arg),null!=c&&(g[g.length]=c);return g},c.grep=function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},c.noop=function(){},c.fn.init.prototype=c.fn,a.dollarbill=a.$=c}(window),dollarbill.parseLocalStorage=function(a){var b=localStorage.getItem(a);return b?JSON.parse(b)||{}:{}},dollarbill.fn.removeClass=function(a){if(a&&"string"==typeof a){for(var b=0;b<this.length;b++)for(var c=a.split(" "),d=0;d<c.length;d++)""!==c[d]&&this[b].classList.remove(c[d]);return this}},dollarbill.fn.addClass=function(a){if(a&&"string"==typeof a){for(var b=0;b<this.length;b++)for(var c=a.split(" "),d=0;d<c.length;d++)""!==c[d]&&this[b].classList.add(c[d]);return this}},dollarbill.fn.hasClass=function(a){return a&&"string"==typeof a?this[0].classList.contains(a):this},dollarbill.fn.toggleClass=function(a){if(a&&"string"==typeof a){for(var b=0;b<this.length;b++)this[b].classList.toggle(a);return this}},dollarbill.fn.show=function(a){a=a||"block";for(var b=0;b<this.length;b++)this[b].style.display=a},dollarbill.fn.hide=function(){for(var a=0;a<this.length;a++)this[a].style.display="none"},dollarbill.fn.toggle=function(a){a=a||"block";for(var b=0;b<this.length;b++){var c=this[b];c.style.display=""===c.style.display||"none"===c.style.display?a:"none"}},dollarbill.getVendorPropertyName=function(a){var b,c,d=["Moz","Webkit","O","ms"],e=document.createElement("div"),f=a.charAt(0).toUpperCase()+a.substr(1);if(a in e.style)return a;for(c=0;c<d.length;++c)if(b=d[c]+f,b in e.style)return b},dollarbill.hideURLBar=function(){var a=window,b=document,c=b.body,d=document.height>a.innerHeight?document.height:a.innerHeight,e=a.pageYOffset||"CSS1Compat"===b.compatMode&&b.documentElement.scrollTop||b.body.scrollTop||0;430>d&&(d=430),d>c.clientHeight&&(c.style.height=d+"px"),window.addEventListener("load",function(){setTimeout(function(){window.scrollTo(0,e)},0)})},dollarbill.transitionend={animation:"animationend",webkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd"},dollarbill.checkTransform3dSupport=function(){var a=document.createElement("div"),b=this.getVendorPropertyName("transform");return a.style[b]="",a.style[b]="rotateY(90deg)",""!==a.style[b]},dollarbill.buildVendorNames=function(){return{transition:this.getVendorPropertyName("transition"),transitionDelay:this.getVendorPropertyName("transitionDelay"),transform:this.getVendorPropertyName("transform"),transformOrigin:this.getVendorPropertyName("transformOrigin"),transform3d:this.checkTransform3dSupport()}},dollarbill.s4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},dollarbill.guid=function(){return this.s4()+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+this.s4()+this.s4()},dollarbill.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"!=typeof g&&"function"!=typeof g&&(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(dollarbill.isPlainObject(d)||(e=dollarbill.isArray(d)))?(e?(e=!1,f=c&&dollarbill.isArray(c)?c:[]):f=c&&dollarbill.isPlainObject(c)?c:{},g[b]=dollarbill.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},dollarbill.fn.css=function(a,b){if(0===this.length)return void 0;for(var c,d,e=0;e<this.length;e++){if(c=this[e],"string"==typeof a&&!b)return c.style[a];if("string"==typeof a&&b&&(c.style[a]=b),"object"==typeof a)for(d in a)c.style[d]=a[d]}return this},dollarbill.fn.height=function(a){return a?(this.length>0&&(this[0].style.height=a),this):0===this.length?window.style.height:this[0].style.height},dollarbill.fn.width=function(a){return a?(this.length>0&&(this[0].style.clientWidth=a),this):0===this.length?window.style.clientWidth:this[0].style.clientWidth},dollarbill.fn.innerHeight=function(){return 0===this.length?window.innerHeight:this[0].innerHeight},dollarbill.fn.innerWidth=function(){return 0===this.length?window.innerWidth:this[0].offsetWidth},dollarbill.fn.offset=function(){if(0!==this.length){var a=this[0].getBoundingClientRect();return{top:a.top+window.pageYOffset,left:a.left+window.pageXOffset}}},dollarbill.fn.outerHeight=function(){return 0===this.length?window.outerHeight:this[0].getBoundingClientRect().height},dollarbill.fn.outerWidth=function(){return 0===this.length?window.outerWidth:this[0].getBoundingClientRect().width},dollarbill.fn.position=function(){return this[0]?this[0].getBoundingClientRect():void 0},dollarbill.fn.attr=function(a,b){if(!a)return this;if(!b)return this[0].getAttribute(a);for(var c=0;c<this.length;c++)this[c].setAttribute(a,b);return this},dollarbill.fn.html=function(a){if(!this[0])return this;var b=0;if(void 0===a)return this[0].innerHTML;for(;b<this.length;b++)this[b].innerHTML=a;return this},dollarbill.fn.removeAttr=function(a){if(!this[0])return this;for(var b=0;b<this.length;b++)this[b].removeAttribute(a);return this},dollarbill.fn.data=function(a,b){var c=this[i];return b?void c.setAttribute("data-"+a,b):c.hasAttribute("data-"+a)?c.getAttribute("data-"+a):""},window.CustomEvent||(CustomEvent.prototype=window.CustomEvent.prototype,window.CustomEvent=CustomEvent),dollarbill.fn.on=function(a,b,c){c=c===!0?!0:!1;for(var d=0;d<this.length;d++)this[d].addEventListener(a,b,c)},dollarbill.fn.off=function(a,b,c){for(var d=0;d<this.length;d++)this[d].removeEventListener(a,b,c)},dollarbill.fn.trigger=function(a,b){if(!a)return this;for(var c=0,d=new CustomEvent(a,b);c<this.length;c++)elem.dispatchEvent(d)},dollarbill.fn.after=function(a){if(!a)return this;"string"==typeof a&&(a=document.createDocumentFragment(a));for(var b=0;b<this.length;b++)this[b].parentNode&&this[b].parentNode.insertBefore(a,this[b].nextSibling);return this},dollarbill.fn.append=function(a){if(!a)return this;a.nodeType||"string"!=typeof a||(a=document.createElement(a));for(var b=0;len>b;b++)this[b].appendChild(a);return this},dollarbill.fn.appendTo=function(a){if(!a)return this;"string"==typeof a&&(a=document.querySelectorAll(a)),a.length||(a=[a]);for(var b=0,c=0;b<a.length;b++)for(;c<this.length;c++)a[b].appendChild(this[c])},dollarbill.fn.before=function(a){if(!a)return this;"string"==typeof a&&(a=document.createDocumentFragment(a));for(var b=0;b<this.length;b++)this[0].parentNode.insertBefore(a,this[0]);return this},dollarbill.fn.clone=function(a){return 0!==this.length?this[0].cloneNode(a):void 0},dollarbill.fn.detach=function(a){return this.remove(a)},dollarbill.fn.empty=function(){for(var a=0;a<this.length;a++)this[a].innerHTML=null;return this},dollarbill.fn.insertAfter=function(a){return a.parentNode.insertBefore(this,a.nextSibling),this},dollarbill.fn.insertBefore=function(a,b){b||(b=this[0]),a.length||(a=[a]);for(var c=0;c<a.length;c++)a[c].parentNode.insertBefore(a[c],b);return this},dollarbill.fn.prepend=function(a){if(!a)return this;"string"==typeof a&&(a=document.createDocumentFragment(a));for(var b,c=0;c<this.length;c++)b=this[0],(1===b.nodeType||11===b.nodeType||9===b.nodeType)&&b.insertBefore(a,b.firstChild);return this},dollarbill.fn.prependTo=function(a){if(!a)return this;"string"==typeof a&&(a=document.querySelectorAll(c)),a.length||(a=[a]);for(var b=0,c=this[0];b<a.length;b++)(1===a.nodeType||11===a.nodeType||9===a.nodeType)&&a.insertBefore(c,a.firstChild);return this},dollarbill.fn.remove=function(){var a,b,c;for(a=0;a<this.length;a++)b=this[a],c=b.parentNode.removeChild(b),c=null;return this},dollarbill.fn.replaceAll=function(a){if(0===this.length||!a)return this;"string"==typeof a&&(a=document.querySelectorAll(a));for(var b=0,c=0;b<a.length;b++)for(;c<this.length;c++)this[b].parentNode.replaceChild(this[b],a);return this},dollarbill.fn.replaceWith=function(a){if(!a)return this;a.nodeType||"string"!=typeof a||(a=document.createElement(a));for(var b=0;len>b;b++)this[b].parentNode.replaceChild(a,this[b]);return this},dollarbill.fn.text=function(a){0===this.length;var b=this[0],c=b.nodeType;if(a)1===c||9===c||11===c?b.textContent=a:(3===c||4===c)&&(b.nodeValue=a);else{if(1===c||9===c||11===c)return b.textContent;if(3===c||4===c)return b.nodeValue}return""},dollarbill.fn.parent=function(a){return a.length||(a=[a]),a[0].parentNode},dollarbill.fn.prev=function(){return c.length||(c=[c]),c[0].previousElementSibling},dollarbill.fn.next=function(){return c.length||(c=[c]),c[0].nextElementSibling},dollarbill.fn.loadScript=function(a,b,c){if(document.getElementById(a))c();else{var d=document.createElement("script");d.type="text/javascript",d.id=a,d.readyState?d.onreadystatechange=function(){("loaded"===d.readyState||"complete"===d.readyState)&&(d.onreadystatechange=null,c())}:d.onload=function(){c()},d.src=b,document.body.appendChild(d)}},function(a){var b=function(a){var c=new b.fn.init;return a&&("sessionStorage"!==a.storageType?(c.storageType="localStorage",c.storage=localStorage):(c.storageType=a.storageType||c.storageType,c.storage=sessionStorage),c.ttlKey=a.ttlKey||c.ttlKey),c};return b.fn=b.prototype={constructor:b,init:function(){return this},version:"0.0.1",setItem:function(a,b,c){var d=this;if(!a)throw new{Message:"Item must have a key"};if(!b)throw new{Message:"Item must have a value"};"Object"==typeof b&&(b=JSON.stringify(b)),d.storage.setItem(a,b),c&&d.storage.setItem(d.ttlKey+a,+new Date+c)},getItem:function(b){var c=this,d=c.storage.getItem(c.ttlKey+b),e=null!==d&&!c.hasItemExpired(b,d);return!a.online||e?c.storage.getItem(b):(a.online===!0&&e&&(c.storage.removeItem(b),c.storage.removeItem(c.ttlKey+b)),null)},hasItemExpired:function(a,b){var c=this;return!b||b<+new Date?(c.storage.removeItem(a),c.storage.removeItem(c.ttlKey+a),!0):!1},getObject:function(a){try{return JSON.parse(this.getItem(a))}catch(b){return null}},setObject:function(a,b,c){"object"==typeof b&&(b=JSON.stringify(b)),this.setItem(a,b,c)},removeItem:function(a){this.storage.removeItem(a),this.storage.removeItem(this.ttlKey+a)},clear:function(){this.storage.clear()},getTTLConstant:function(a){switch(a){case"week":return 6048e5;case"day":return 864e5;case"hour":return 36e5;case"minute":return 3600}return 0},storage:localStorage,storageType:"localStorage",ttlKey:"l2S-Cache-"},b.fn.init.prototype=b.fn,a.l2Storeagecache=b}(window),function(a,b){"use strict";var c=function(a){return new c.fn.init(a)};return c.fn=c.prototype={constructor:c,init:function(a){var b,c=this;for(b in a)c[b]=a[b];return c},version:"0.0.2",appName:"spa app",appPrefix:"spaApp-",cache:b,ViewSelector:"script[class='spa-view']",LayoutSelector:"script[class='spa-layout']",cssSelector:"script[type='x-spa-css']",scriptSelector:"script[type='x-spa-js']",TemplateSelector:"[type='text/x-simpleTemplate-template']",scriptLoadingState:0,assetsComplete:function(){},getAttributeDefault:function(a,b,c){return a.hasAttribute(b)?a.getAttribute(b):c},createFragment:function(a){var b=document.createElement("div");return b.innerHTML=a,b},loadImport:function(a,b){var c=this;c.getImport(a,function(a){c.processSPA(a,b)})},getImport:function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.onload=function(){if(c.status>=200&&c.status<400){var a=c.responseText.replace(/(\r\n|\n|\r)/gm,"");b&&b(a)}},c.onerror=function(){},c.send()},processSPA:function(a,c,d){"function"==typeof a&&(d=a,a=b),this.parseViews(a,!0),this.parseCSS(a),this.parseScripts(a),this.parseTemplates(a,!0),d&&d()},setupAssets:function(a){var b,c=this,d=c.cache.getObject(c.appPrefix+"-scripts"),e=c.cache.getObject(c.appPrefix+"-css");c.assetsComplete=a;for(b in d)c.appendScript(d[b]);for(b in e)c.appendCSS(e[b]);c.assetsComplete()},parseViews:function(a,c){var d,e,f,g,h=this,i=h.cache.getObject(h.appPrefix+"views")||{},j=document;for(c===b&&(c=!0),a!==b&&"string"!=typeof a&&("boolean"==typeof a?c=a:a=b),"string"==typeof a&&(j=document.createElement("div"),j.innerHTML=a),g=j.querySelectorAll(h.ViewSelector+", "+h.LayoutSelector),h.setupRoutes(g),d=0;d<g.length;d++)e=g[d],f=e.innerHTML.replace(/(\r\n|\n|\r)/gm,""),i[e.id]=f,c===!0&&e.parentNode&&e.parentNode.removeChild(e);h.cache.setObject(h.appPrefix+"views",i)},getView:function(a){var b=this.cache.getObject(this.appPrefix+"views")||{};return b[a]},parseTemplates:function(a,b){var c,d,e=this,f=[],g=document,h=e.getTemplates();"string"==typeof a&&(g=document.createElement("div"),g.innerHTML=a),f=g.querySelectorAll(e.TemplateSelector);for(var i=0;i<f.length;i++)c=f[i],d=c.innerHTML.replace(/(\r\n|\n|\r)/gm,""),h[c.id]=d,b===!0&&c.parentNode&&c.parentNode.removeChild(c);e.cache.setObject(e.appPrefix+"templates",h)},getTemplates:function(){return this.cache.getObject(this.appPrefix+"templates")||{}},getTemplate:function(a){var b=JSON.parse(localStorage.getItem(this.appPrefix+"templates"))||{};return b[a]},parseCSS:function(a){var b=this,c=b.cache.getObject(b.appPrefix+0/0)||{},d={};if(a||(a=document.querySelector(b.cssSelector))){if("string"==typeof a){var e=document.createElement("div");e.innerHTML=a,a=e.querySelector(b.cssSelector)}""!==a.innerHTML&&(d=JSON.parse(a.innerHTML)),c=$.extend(c,d);for(var f in c)b.appendCSS(c[f]);b.cache.setObject(b.appPrefix+0/0,c)}},appendCSS:function(a){var b;document.getElementById(a.id)||(b=document.createElement("link"),b.id=a.id,b.rel="stylesheet",b.type="text/css",b.href=a.url,document.head.appendChild(b))},parseScripts:function(a){var b=this,c=b.cache.getObject(b.appPrefix+"-scripts")||{},d={};if(a||(a=document.querySelector(b.scriptSelector))){if("string"==typeof a){var e=document.createElement("div");e.innerHTML=a,a=e.querySelector(b.scriptSelector)}""!==a.innerHTML&&(d=JSON.parse(a.innerHTML)),c=$.extend(c,d);for(var f in c)b.appendScript(c[f]);b.cache.setObject(b.appPrefix+"-scripts",d)}},appendScript:function(a){var b,c=this;document.getElementById(a.id)||(c.scriptLoadingState+=1,b=document.createElement("script"),b.id=a.id,b.src=a.url,b.onload=function(){c.scriptLoadingState-=1},document.body.appendChild(b))},setupRoutes:function(a){var c,d,e,f,g=this,h=g.getRoutes(),i=0;for(a.length===b&&(a=[a]);i<a.length;i++)d=a[i],d.hasAttributes()&&d.hasAttribute("id")&&(f=d.getAttribute("id"),c=g.getAttributeDefault(d,"spa-route",""),e=g.createRoute(f,c,d),e&&(h[e.path]=e));g.cache.setObject(g.appPrefix+"routes",h)},createRoute:function(a,c,d){var e=this,f={viewId:a,viewModule:e.getAttributeDefault(d,"spa-module",a),path:c.split("/:")[0],params:c.split("/:").slice(1),spaViewId:e.getAttributeDefault(d,"spa-view-id","#"+a),title:e.getAttributeDefault(d,"spa-title",""),viewType:e.getAttributeDefault(d,"spa-view-type","view"),layout:e.getAttributeDefault(d,"spa-layout",b),transition:e.getAttributeDefault(d,"spa-transition",""),paramValues:{},beforeonload:e.getAttributeDefault(d,"spa-beforeonload",b),onload:e.getAttributeDefault(d,"spa-onload",b),afteronload:e.getAttributeDefault(d,"spa-afteronload",b),beforeunload:e.getAttributeDefault(d,"spa-beforeunload",b),unload:e.getAttributeDefault(d,"spa-unload",b),afterunload:e.getAttributeDefault(d,"spa-afterunload",b)};return"view"===f.viewType?f:void 0},getRoutes:function(){return JSON.parse(localStorage.getItem(this.appPrefix+"routes"))||{}},render:function(a,b){for(var c,d=/<%([^%>]+)?%>/g,e=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,f="var r=[];\n",g=0,h=function(a,b){return f+=b?a.match(e)?a+"\n":"r.push("+a+");\n":""!=a?'r.push("'+a.replace(/"/g,'\\"')+'");\n':"",h
};c=d.exec(a);)h(a.slice(g,c.index))(c[1],!0),g=c.index+c[0].length;return h(a.substr(g,a.length-g)),f+='return r.join("");',new Function(f.replace(/[\r\t\n]/g,"")).apply(b)},bind:function(c,d){if("string"!=typeof c.targetSelector||"string"!=typeof c.templateName||c.data===b)throw new Error("missing argument in mergeData");var e=this,f=document.querySelector(c.targetSelector),g=e.getTemplates();return f?(f.length&&f.length>0&&(f=f[0]),void(g[c.templateName]&&requestAnimationFrame(function(){f.innerHTML=e.render(g[c.templateName],c.data),d&&console.log("template ",c.templateName," rendered in ms: ",a.performance.now()-d),c.callback&&c.callback()}))):void console.error("could not find view engine target ",c.targetSelector)}},c.fn.init.prototype=c.fn,a.simpleViewEngine=c}(window),function(a,b){"use strict";var c=".",d=".spa-layout",e=function(b){var c=new e.fn.init,d="";if(c.settings=$.extend({},c.settings,b),c.getParameterByName(c.settings.forceReload))return a.location.replace(a.location.href.split("?")[0]+"#!"+c.getParameterByName(c.settings.forceReload)),c;if(c.settings.AppContext)c.$context=c.settings.AppContext;else{var f=document.querySelector("[spa-app]");if(!f)throw console.error("Must have an application context defined"),new ReferenceError("Must have an application context defined");d=a[f.getAttribute("spa-app")],"function"==typeof d&&(d=d()),c.$context=d}return c.viewEngine=c.settings.viewEngine,c.AppContext=c.settings.AppContext,c.analytics=c.settings.analytics,c.titleElement=document.querySelector(c.settings.titleSelector),c.settings.parseDOM&&c.viewEngine.processSPA(function(){c.AppContext.parsingEnd(),c.settings.initView&&c.swapView()}),a.addEventListener("hashchange",function(){console.log(a.location.hash),c.swapView()}),c};return e.fn=e.prototype={constructor:e,init:function(){return this},version:"0.1.2",viewEngine:b,$context:b,$controller:b,$oldController:b,oldRoute:b,matchRouteByPath:function(a,c){c||(c=this.viewEngine.getRoutes());var d,e,f,g,h,i={};if(c.hasOwnProperty(a))return c[a];for(d in c)if(c.hasOwnProperty(d)){if(e=c[d],h=new RegExp("\\b"+e.path+"\\b","gi"),""!==e.path&&0===a.search(h)){for(f=a.replace(e.path,"").split("/").slice(1),g=0;g<f.length;g++)i[e.params[g]]=f[g];e.paramValues=i;break}e=b}return e},matchRouteById:function(a,b){b||(b=this.viewEngine.getRoutes());var c;for(c in b)if(b[c].viewId===a)return b[c]},animation:b,getParameterByName:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},getVendorPropertyName:function(a){var b,c,d=["Moz","Webkit","O","ms"],e=a.charAt(0).toUpperCase()+a.substr(1);if(a in this.div.style)return a;for(c=0;c<d.length;++c)if(b=d[c]+e,b in this.div.style)return b},transitionend:{animation:"animationend",webkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd"},cssPrefix:function(a){if(!a)return"";var b,c,d,e,f=document.body.style;if(a.indexOf("-")>=0){for(d=(""+a).split("-"),b=1,c=d.length;c>b;b++)d[b]=d[b].substr(0,1).toUpperCase()+d[b].substr(1);a=d.join("")}if(a in f)return a;for(a=a.substr(0,1).toUpperCase()+a.substr(1),e=["webkit","Moz","ms","O"],b=0,c=e.length;c>b;b++)if(e[b]+a in f)return e[b]+a;return""},removeExtraViews:function(a){if(a)for(var b=a.length;b>1;)b--,a[b].parentNode.removeChild(a[b]);return a[0]},pushView:function(a){var b=this;b.analytics&&b.analytics.pushView(["_trackPageview",a])},getHashPath:function(){var b="#"!==a.location.hash?a.location.hash.replace("#!",""):"";return b=b.split(":")[0],b=b.replace(new RegExp("\\\\$"),"")},getClassSelector:function(a){return c+a},getOldRoute:function(a){return a?this.matchRouteById(a):b},getController:function(a){var b=this,c=b.$context[a.viewId];return c&&"function"==typeof c?c=new c(b.$context,a):c&&"object"==typeof c?(c=new c,c.response=a,c):void 0},getExistingView:function(){var a=this;return view=document.querySelector("."+a.settings.currentLayoutClass),view||(view=document.querySelector("."+a.settings.currentViewClass)),view},swapView:function(){var e,f,g,h,i,j=this,k=j.settings,l=b,m=j.getParameterByName("_escaped_fragment_"),n=j.getHashPath(),o=j.matchRouteByPath(n);return o&&""===m?(h=document.querySelectorAll(c+k.layoutClass),i=document.querySelectorAll(c+k.currentViewClass),h&&h.length>0&&(h=j.removeExtraViews(h)),i&&i.length>0&&(i=j.removeExtraViews(i),l=i?i.id:b),0===i.length&&(i=b),void(j.oldRoute!==n&&(h&&(h.length!==b&&(h=0===h.length?b:h[0]),h&&h.getAttribute("spa-layout")!==o.layout&&(i=h)),j.$oldController=j.$controller,j.$controller=j.getController(o),j.$controller&&(j.pushView(n),f=j.stampView(i,o),e=j.getAnimation(o),j.animation=e,f&&(i?(j.makeViewCallback(j.$oldController,"beforeunload"),j.hasAnimations()&&(e?(i.addEventListener(j.transitionend[j.cssPrefix("animation")],function(){j.endSwapAnimation(j.oldRoute,o,i),g=b}),$(i).addClass("animated out "+e).removeClass("in"),$(f).addClass(k.currentViewClass+" show animated "+e+" in"),$(d).addClass("show")):($(f).addClass(k.currentViewClass),$(d).addClass("show"),j.endSwapAnimation(j.oldRoute,o,i)))):k.intoAnimation?(f.addEventListener(j.transitionend[j.cssPrefix("animation")],function(){j.endSwapAnimation.call(j,j.oldRoute,o,g),g=b}),$(f).addClass(k.currentViewClass+" show animated "+e+" in"),$(d).addClass("show")):($(f).addClass(k.currentViewClass+" show"),j.endSwapAnimation.call(j,j.oldRoute,o,g),$(d).addClass("show")),j.setDocumentTitle(o),o&&j.$controller&&(j.makeViewCallback(j.$controller,"beforeonload",o),j.makeViewCallback(j.$controller,"onload",o),j.makeViewCallback(j.$controller,"afteronload",o))),j.oldRoute=n)))):void(a.location.hash="#!"+k.NotFoundRoute)},getAnimation:function(a){return a?this.animations[a.transition]||this.settings.viewTransition:this.settings.viewTransition},endSwapAnimation:function(a,b,c){var d,e=this,f=document.getElementById(b.viewId),g=e.animation;a&&(e.makeViewCallback(e.$oldController,"unload"),e.makeViewCallback(e.$oldController,"afterunload")),f&&f.classList.contains("in")&&(f.classList.remove("in"),f.classList.remove(g)),c&&e.viewEngine&&c.parentNode&&(d=c.parentNode,d.removeChild(c))},stampView:function(b,c){var d,e,f,g,h=this;return h.viewEngine&&(d=h.viewEngine.getView(c.viewId),d?f=h.createFragment(d):(g=a.location.href.split("#!"),a.location.replace(g[0]+"?"+h.settings.forceReload+"="+g[1])),c.layout?(e=document.querySelector("[spa-layout='"+c.layout+"']"),e?(g=e.querySelector(h.settings.layOutPlaceholder),b&&!b.classList.contains("spa-layout")?g.insertBefore(f,b):g.appendChild(f)):(e=h.viewEngine.getView(c.layout),e&&(e=h.createFragment(e),g=document.querySelector(h.settings.mainWrappperSelector),g.appendChild(e),e=document.querySelector("[spa-layout='"+c.layout+"']")),g=e.querySelector(h.settings.layOutPlaceholder),g.appendChild(f))):(g=document.querySelector(h.settings.mainWrappperSelector),b?g.insertBefore(f,b):g.appendChild(f))),document.querySelector(c.spaViewId)},makeViewCallback:function(a,b,c){a&&a[b]&&a[b].call(a,c||{})},setDocumentTitle:function(a){var b,c=a.title;if(""!==c){for(b=0;b<a.params.length;b++)c=c.replace(":"+a.params[b],a.paramValues[a.params[b]]);document.title=c}},createFragment:function(a){var b=document.createDocumentFragment(),c=document.createElement("div");for(c.innerHTML=a;c.firstChild;)b.appendChild(c.firstChild);return b},hasAnimations:function(){var a=!1,c=document.createElement("div"),d="animation",e="",f="Webkit Moz O ms Khtml".split(" "),g="",h=0;if(c.style.animationName&&(a=!0),a===!1)for(h=0;h<f.length;h++)if(c.style[f[h]+"AnimationName"]!==b){g=f[h],d=g+"Animation",e="-"+g.toLowerCase()+"-",a=!0;break}return a},animations:{slide:"slide",fade:"fade",flip:"flip"},settings:{routes:[],viewSelector:".spa-view",currentViewClass:"spa-current-view",currentLayoutClass:"spa-current-layout",layoutClass:"spa-layout",layOutPlaceholder:".spa-child-view",viewClass:"spa-view",mainWrappperSelector:".main-content",NotFoundView:"nofoundView",NotFoundRoute:"404",defaultTitle:"A Single Page Application with Routes",titleSelector:".view-title",forceReload:"_force_reload_",autoSetTitle:!0,parseDOM:!0,initView:!0,transitionFullLayout:!0,intoAnimation:!0,viewTransition:"slide",asyncUrl:b}},e.fn.init.prototype=e.fn,a.SPA=e}(window),function(a,b){"use strict";var c=function(a,b){if(!a)return a;if("string"==typeof a&&(a=document.querySelector(a),!a))return a;"length"in a&&(a=a[0]);var d=new c.fn.init,e=d.settings=$.extend({},d.settings,b);return d.support=$.buildVendorNames(),d.support.transitionEnd=d.eventNames[d.support.transition]||null,d.setupToolbarElements(a,e),d.applyTransitionEnd(),d.setToolbarMenu(e.menuItems),d};return c.fn=c.prototype={constructor:c,init:function(){return this},version:"0.0.4",toolbar:b,topMenu:b,subMenu:b,expandTarget:b,hasMouse:"",touchType:"",touchStart:"",div:b,support:{},eventNames:{MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},setToolbarMenu:function(b){var c=0,d="",e="",f=this,g=f.settings;if(f.expandToolbar(!0),f.topMenu.innerHTML="",f.subMenu.innerHTML="",b.topMenu)for(c=0;c<b.topMenu.length;c++)d+=f.parseMenuItem(b.topMenu[c],g.toolbarItemTemplate);if(b.subMenu)for(c=0;c<b.subMenu.length;c++)e+=f.parseMenuItem(b.subMenu[c],g.subMenuItemTemplate);c=b.topMenu.length,""===d&&""===e?f.toolbar.style.display="none":(d+="<div class='expand-toolbar'>...</div>",c++,f.topMenu.innerHTML=d,f.subMenu.innerHTML=e,f.setIconWidth(c),f.setOrientation(),a.addEventListener("resize",function(){f.setIconWidth(c),f.setOrientation()}),f.expandTarget=f.toolbar.querySelector(g.expandTargetSelector),f.setupExpand(),f.bindCallBacks(b),f.bindAutoCollapse())},parseMenuItem:function(a,b){return b.replace("{{title}}",a.title).replace("{{url}}",a.url).replace("{{iconClass}}",a.iconClass)},setIconWidth:function(b){var c=this.settings,d=document.querySelector(c.topMenuItemSelector).clientWidth,e=a.innerWidth,f=Math.floor((e-b*d)/(2*b)/e*98),g=document.querySelectorAll(c.topMenuItemSelector),h=document.querySelector(c.topMenuItemSelector);for(b=0;b<g.length;b++)g[b].style.marginRight=f+"%",g[b].style.marginLeft=f+"%";h&&(h.style.marginRight=f+"%",h.style.marginLeft=f+"%")},setOrientation:function(){this.toolbar.orientation=a.innerWidth<a.innerHeight?"portrait":"landscape"},bindCallBacks:function(a){var b,c=0,d=this;for(c=0;c<a.topMenu.length;c++)b=a.topMenu[c],b.callback&&d.bindTapEvent(document.querySelector("."+b.iconClass),b.callback);for(c=0;c<a.subMenu.length;c++)b=a.subMenu[c],b.callback&&d.bindTapEvent(document.querySelector("."+b.iconClass),b.callback)},buildTransitionValue:function(a){var b=this.settings;return a+" "+b.expandSpeed+"ms "+b.easing},setupToolbarElements:function(a,b){var c=this;c.toolbar=a,c.topMenu=c.toolbar.querySelector(b.topMenuSelector),c.subMenu=c.toolbar.querySelector(b.subMenuSelector)},applyTransitionEnd:function(){var a=this;a.toolbar.addEventListener(a.support.transitionEnd,function(b){a.transitionEnd(b)})},transitionEnd:function(){this.toolbar.style[this.support.transition]=""},setupTouch:function(){var b=this;b.touchType=a.navigator.msPointerEnabled?"pointer":"ontouchstart"in a?"touch":"mouse",b.hasMouse="ontouchstart"in a&&"onmousedown"in a,b.touchStart="pointer"===this.touchType?"MSPointerDown":"touch"===this.touchType?"touchstart":"mousedown"},setupExpand:function(){var a=this;a.setupTouch(),a.bindTapEvent(a.expandTarget,function(b){b.preventDefault(),a.expandToolbar()})},bindAutoCollapse:function(){var a=this,b=0,c=document.querySelectorAll(a.settings.topMenuItemSelector+", "+a.settings.subMenuSelector);for(b=0;b<c.length;b++)a.bindTapEvent(c[b],function(){a.expandToolbar(!0)})},bindTapEvent:function(a,b){var c=this;a&&(a.addEventListener(c.touchStart,function(a){b.call(c,a)}),c.hasMouse&&a.addEventListener("mousedown",function(a){b.call(c,a)}))},expandToolbar:function(a){var c,d,e=this,f=e.settings,g=e.toolbar;(a!==!0||g.expanded!==b&&g.expanded!==!1)&&(g.style[e.support.transition]=e.buildTransitionValue("portrait"===g.orientation?"height":"width"),g.expanded?("portrait"===g.orientation?g.style.height=f.minHeight+"px":g.style.width=f.minWidth+"px",g.expanded=!1):(c=e.topMenu!==b?e.topMenu.getBoundingClientRect():{height:"0px",width:"0px"},d=e.subMenu!==b?e.subMenu.getBoundingClientRect():{height:"0px",width:"0px"},"portrait"===e.toolbar.orientation?g.style.height=c.height+d.height+"px":f.menuItems.subMenu.length>0&&(g.style.width=f.expandWidth+"px"),g.expanded=!0))},settings:{minHeight:35,minWidth:42,expandWidth:200,collapseOnSelect:!0,mainSelector:".toolbar",topMenuSelector:".toolbar-top-menu",subMenuSelector:".toolbar-sub-menu",expandTargetSelector:".expand-toolbar",topMenuItemSelector:".toolbar-item",menuItems:{topMenu:[],subMenu:[]},toolbarItemTemplate:"<div class='toolbar-item'><a href='{{url}}'><div class='toolbar-item-icon {{iconClass}}'></div><figcaption>{{title}}</figcaption></a></div>",subMenuItemTemplate:"<a href='{{url}}'><div class='toolbar-sub-menu-nav-item {{iconClass}}'>{{title}}</div></a>",expandSpeed:1e3,that:b,easing:"ease-in-out"}},c.fn.init.prototype=c.fn,a.toolbar=c}(window),function(a,b){"use strict";var c={topMenu:[{title:"home",iconClass:"icon-home",url:"#!"},{title:"categories",iconClass:"icon-tags",url:"#!categories"},{title:"search",iconClass:"icon-search",url:"#!search"},{title:"contact",iconClass:"icon-mail-alt",url:"#!contact"}],subMenu:[{title:"living room",url:"#!category/Living-Room"},{title:"dining room",url:"#!category/dining"},{title:"office",url:"#!category/Office"},{title:"bedroom",url:"#!category/bedroom"},{title:"Account",url:"#!account"},{title:"privacy",url:"#!s/privacy"}]},d=function(a){return new d.fn.init(a)};return d.fn=d.prototype={constructor:d,init:function(b){var d=this;b&&b.services&&d.parseServices(b.services),d.setupMQLs(),toolbar(".toolbar",{menuItems:c}),d.setupHamburger();var e=document.querySelector(".nav-icon.icon-left-open");return deeptissue(e).tap(function(){history.back()}),a.addEventListener("hashchange",function(){a.history.length>1&&e.classList.add("show")}),d},parsingEnd:function(){this.setupMenu()},setupHamburger:function(){deeptissue(".hamburger-nav, .left-panel").tap(function(){requestAnimationFrame(function(){$("body").toggleClass("expand-menu")})})},setupMenu:function(){var a=[{Name:"Home",Slug:"",icon:"icon-home"},{Name:"Categories",Slug:"categories",icon:"icon-tags",children:[]},{Name:"Login",Slug:"login",icon:"icon-key"},{Name:"Account",Slug:"account",icon:"icon-user"},{Name:"Privacy",Slug:"s/privacy",icon:"icon-lock"},{Name:"About",Slug:"s/about",icon:"icon-info-circled"},{Name:"Contact",Slug:"contact",icon:"icon-mail-alt"}];ve.bind({targetSelector:".main-nav",templateName:"menuItem",data:{menu:a}})},parseServices:function(a){for(var b in a)this[b]="function"==typeof a[b]?new a[b]:a[b]},phoneMQL:b,smallTabletMQL:b,tabletMQL:b,desktopMQL:b,setupMQLs:function(){var b=this,c=a.matchMedia("(max-width: 600px)"),d=a.matchMedia("(min-width: 720px)"),e=a.matchMedia("(min-width: 980px)"),f=a.matchMedia("(min-width: 1000px)");c.addListener(function(a){b.phoneMQL&&b.phoneMQL(a)}),d.addListener(function(a){b.smallTabletMQL&&b.smallTabletMQL(a)}),e.addListener(function(a){b.tabletMQL&&b.tabletMQL(a)}),f.addListener(function(a){b.desktopMQL&&b.desktopMQL(a)})},version:"0.0.1"},d.fn.init.prototype=d.fn,a.FastFurniture=d}(window),function(a){"use strict";var b=Class.extend({init:function(a){this.cache=a},version:"0.0.1",cache:a,API_ROOT:"api/data/",ttl:3e4,injectors:[],createInjector:function(a){injectors.push(a)},status:{0:"notOnitialized",1:"connectionEstablished",2:"received",3:"processing",4:"success"},appKey:"fast-funriture-",getCachedObject:function(a){var b=this,c=b.cache.getObject(b.appKey+a.cacheKey);return c&&a.success?void a.success(c):(a.cache=!0,a.type=a.type||"json",this.getData(a))},getCachedText:function(a){var b=this,c=b.cache.getItem(b.appKey+a.cacheKey);return c&&a.success?void a.success(c):(a.cache=!0,a.type="text",this.getData(a))},FORM_ENCODED:"application/x-www-form-urlencoded",JSON_ENCODED:"application/x-json",HTML_ENCODED:"text/html",buildAjaxDataQueryString:function(a){var b,c="";for(b in a)c+=""===c?b+"="+a[b]:"&"+b+"="+a[b];return c},defaultHeaders:{contentType:"application/x-www-form-urlencoded",accept:{"*":"text/javascript, text/html, application/json, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},getAcceptHeader:function(a){return a&&""!==a?this.defaultHeaders.accept[a]:this.defaultHeaders.accept["*"]},errorsuccess:function(a){a=JSON.parse(a.response),console.error(a.message)},serialize:function(b,c){var d,e=[];c===a&&(c=!0);for(d in b)e.push(encodeURIComponent(d)+"="+encodeURIComponent(b[d]));return c?e.join("&"):e},ajaxSettings:{cache:!1,cacheTTL:6e4,dataType:"json",method:"get",type:"json",contentType:"application/json",success:function(){}},failsuccess:function(a){a.responseText&&console.error(JSON.stringify(a.responseText))},doAJAX:function(a){var b=this,c=new XMLHttpRequest;a=$.extend({},this.ajaxSettings,a),a.onload&&(c.onload=a.onload),a.onerror&&(c.onerror=a.onerror),a.url=this.API_ROOT+a.url,c.open(a.method,a.url),c.setRequestHeader("Content-Type",a.contentType),c.setRequestHeader("Accept",this.getAcceptHeader(a.type)),c.onreadystatechange=function(){if(4!=c.readyState&&a[c.readyState]&&a[c.readyState](),4===c.readyState&&200==c.status&&a.success)try{switch(a.type){case"json":a.success.call(b,JSON.parse(this.responseText));break;case"text":a.success.call(b,this.responseText);break;default:a.success.call(b,this.responseText)}a.cache&&b.cache.setObject(b.appKey+a.cacheKey,this.responseText,a.cacheTTL)}catch(d){a.success.call(b,this.responseText),a.cache&&b.cache.setItem(b.appKey+a.cacheKey,this.responseText,a.cacheTTL)}},a.data?c.send("json"===a.dataType?JSON.stringify(a.data):JSON.stringify(a.data)):c.send()},getData:function(a){var b=$.extend({},this.ajaxSettings,a);"jsonp"===a.type&&(delete b.contentType,delete b.dataType),this.doAJAX(b)},postData:function(a){a.method="POST",this.doAJAX(a)},postJSON:function(a){a.dataType="json",this.postData(a)},putData:function(a){a.method="PUT",this.doAJAX(a)},putJSON:function(a){a.dataType="json",this.putData(a)},deleteData:function(a){a.method="DELETE",this.doAJAX(a)},getCategories:function(a){return this.getCachedObject({url:"categories",cacheKey:"categories-",success:a})},getHomeCategories:function(a){return this.getCachedObject({url:"homecategories",cacheKey:"home-categories",success:a,cacheTTL:3e5})},getCategory:function(a,b){return this.getCachedObject({url:"category?slug="+a,cacheKey:"category-"+a,data:a,success:b})},getCategoryProducts:function(a,b){return this.getCachedObject({url:"CategoryProducts?category="+a,cacheKey:"category-"+a,data:a,success:b})},addCategory:function(a,b){return this.postJSON({url:"category",data:a,success:b})},udpateCategory:function(a,b){return this.putJSON({url:"category",data:a,success:b})},deleteCategory:function(a,b){return this.deleteData({url:"DeleteCategory?slug="+a,data:a,success:b})},getProducts:function(a){return this.getCachedObject({url:"products",cacheKey:"products-",success:a})},getRelatedProducts:function(a){return this.getCachedObject({url:"relatedproducts",cacheKey:"relatedproducts-",success:a})},getProduct:function(a,b){return this.getCachedObject({url:"product?slug="+a,cacheKey:"product-"+a,success:b})},addProduct:function(a,b){return this.postData({url:"product",data:a,success:b})},udpateProduct:function(a,b){return this.putData({url:"product",data:a,success:b})},deleteProduct:function(a,b){return this.deleteData({url:"product?slug="+a,success:b})},getCarts:function(a){return this.getCachedObject({url:"cart",cacheKey:"carts-",success:a})},getCart:function(a,b){return this.getCachedObject({url:"cart?cartid="+a,cacheKey:"cart-"+a,success:b})},addCart:function(a,b,c){return this.postJSON({url:"cart",data:b,success:c})},udpateCart:function(a,b){return this.putJSON({url:"cart",data:a,success:b})},deleteCart:function(a,b){return this.deleteData({url:"cart?cartId="+a,success:b})},login:function(a,b,c){return this.postData({url:"login",success:b,fail:c})},getUsers:function(a){return this.getCachedObject({url:"user",cacheKey:"users-",success:a})},getUser:function(a,b){return this.getCachedObject({url:"user/"+a,cacheKey:"user-"+a,success:b})},addUser:function(a,b){return this.postData({url:"user/"+userId,success:b})},udpateUser:function(a,b){return this.putData({url:"user/"+a.userId,success:b})},deleteUser:function(a,b){return this.deleteData({url:"user/"+a,success:b})},getOrders:function(a){return this.getCachedObject({url:"order",cacheKey:"orders-",success:a})},getOrder:function(a,b){return this.getCachedObject({url:"order/"+a,cacheKey:"order-"+a,success:b})},addOrder:function(a,b){return this.postData({url:"order/",success:b})},getContacts:function(a){return this.getCachedObject({url:"contact",cacheKey:"contacts-",success:a})},getContact:function(a,b){return this.getCachedObject({url:"contact/"+a,cacheKey:"contact-"+a,success:b})},addContact:function(a,b,c){return this.postData({url:"contact/"+a,success:c})},udpateContact:function(a,b){return this.putData({url:"contact/"+a.contactId,success:b})},deleteContact:function(a,b){return this.deleteData({url:"contact/"+a,success:b})},searchProducts:function(a,b){return this.getCachedObject({url:"search?term="+a,cacheKey:"search-tern-"+a,data:a,success:b})},getStatic:function(a,b){return this.getCachedObject({url:"static?slug="+a,cacheKey:"static-slug-"+a,data:a,success:b})}});return window.FastFurnitureData=b}(),FastFurniture.fn.NotFound=FastFurniture.fn.fastFurnitureController.extend({onload:function(){}}),FastFurniture.fn.categories=FastFurniture.fn.fastFurnitureController.extend({onload:function(){var a=this;fastFurnitureData.getCategories(a.renderHomeCategories)},renderHomeCategories:function(a){ve.bind({targetSelector:".categories-grid",templateName:"categoryListItem",data:{categories:a}})},callMe:function(){console.log("called me")}}),FastFurniture.fn.category=FastFurniture.fn.fastFurnitureController.extend({onload:function(a){console.log("onload category"),document.querySelector(".spa-view-category .view-title-large").innerHTML=a.paramValues.Name,fastFurnitureData.getCategoryProducts(a.paramValues.Name,function(a){ve.bind({targetSelector:".products-wrapper",templateName:"productGridItem",data:{products:a},callback:function(){var b=0,c=document.querySelector(".products-wrapper"),d=window.innerWidth,e=0,f=0;720>d?(e=150,f=150):d>720&&1024>d?(e=220,f=420):(e=320,f=420),b=a.length%2===1?(a.length-1)*e/2:a.length*e/2,c.style.width=f+b+"px"}})})}}),FastFurniture.fn.fastFurnitureAuthenticatedController=FastFurniture.fn.fastFurnitureController.extend({onload:function(){}}),FastFurniture.fn.fastFurnitureController=Controller.extend({onload:function(){}}),FastFurniture.fn.forgotemail=FastFurniture.fn.fastFurnitureController.extend({onload:function(){}}),FastFurniture.fn.forgotpassword=FastFurniture.fn.fastFurnitureController.extend({onload:function(){}}),FastFurniture.fn.home=FastFurniture.fn.fastFurnitureController.extend({onload:function(){var a=this;console.log("onload home"),fastFurniture.phoneMQL=a.setImageSizes,fastFurniture.smallTabletMQL=a.setImageSizes,fastFurniture.tabletMQL=a.setImageSizes,fastFurniture.desktopMQL=a.setImageSizes,fastFurnitureData.getHomeCategories(function(b){a.renderHomeCategories(b)})},renderHomeCategories:function(a){var b=this;ve.bind({targetSelector:".products-wrapper",templateName:"categoryGridItem",data:{categories:a},callback:b.setImageSizes})},setImageSizes:function(){var a=window.innerWidth,b=0,c=document.querySelectorAll(".product-grid-photo");if(600>a)for(console.log("setup thumbnails"),b=0;b<c.length;b++)c[b].src=c[b].src.replace(/originals|display|mobile/,"thumb");else if(a>=600&&720>=a)for(console.log("setup mobile"),b=0;b<c.length;b++)c[b].src=c[b].src.replace(/originals|display|thumb/,"mobile");else if(a>720&&980>=a)for(console.log("setup mobile with lead display"),b=0;b<c.length;b++)c[b].src=0===b?c[b].src.replace(/originals|mobile|thumb/,"display"):c[b].src.replace(/originals|display|thumb/,"mobile");else if(a>980)for(console.log("setup displays with lead original"),b=0;b<c.length;b++)c[b].src=0===b?c[b].src.replace(/display|mobile|thumb/,"originals"):c[b].src.replace(/originals|mobile|thumb/,"display")},beforeunload:function(){console.log("unload home"),fastFurniture.phoneMQL=void 0,fastFurniture.smallTabletMQL=void 0,fastFurniture.tabletMQL=void 0,fastFurniture.desktopMQL=void 0}}),FastFurniture.fn.login=FastFurniture.fn.fastFurnitureController.extend({onload:function(){}}),FastFurniture.fn.product=FastFurniture.fn.fastFurnitureController.extend({onload:function(a){this.getProduct(a.paramValues.Name)},getProduct:function(a){var b=this;fastFurnitureData.getProduct(a,function(a){try{ve.bind({targetSelector:".product-details",templateName:"productDetails",data:a,callback:function(){document.querySelector(".add-to-cart").addEventListener("click",b.addProductToCart)}}),ve.bind({targetSelector:".product-details-related-products",templateName:"relatedProduct",data:a},window.performance.now())}catch(c){console.log("error ",c)}})},addProductToCart:function(){}}),FastFurniture.fn.search=FastFurniture.fn.fastFurnitureController.extend({onload:function(a){var b=this,c=document.getElementById("searchTerm");c.value="",document.furnitureSearch.addEventListener("keypress",function(a){b.searchKeyCheck(a)}),c.addEventListener("focus",b.manageSearchIcons),c.addEventListener("blur",b.manageSearchIcons),b.searchData(a.paramValues.term)},searchData:function(a){var b=a||document.getElementById("searchTerm").value;""!==b&&fastFurnitureData.searchProducts(b,function(a){a?(document.querySelector(".search-result-list").innerHTML="",document.querySelector(".y-scroller-wrapper").scrollLeft=0,ve.bind({targetSelector:".search-result-list",templateName:"searchReultItems",data:{products:a}})):document.querySelector(".search-result-list").innerHTML="<p>Sorry No Results</p>"})},searchKeyCheck:function(a){a=a||event;var b=this,c=a.target||a.srcElement,d=/textarea/i.test(c.tagName),e=a.keyCode||a.which||a.charCode||0,f=d||13!==e;return f?!1:(b.manageSearchIcons(),13===e&&(a.preventDefault(),b.searchData()),!1)},manageSearchIcons:function(){var a=document.getElementById("searchTerm"),b=document.querySelector(".search-input-icon");""!=a.value?(a.style.width="100%",b.style.display="none"):(b.style.display="inline-block",a.style.width="")}});var lsCache=l2Storeagecache(),ve=simpleViewEngine({appName:"Fast-Furniture",appPrefix:"Fast-Furniture-",cache:lsCache}),fastFurnitureData=new FastFurnitureData(lsCache),fastFurniture=FastFurniture();fastFurniture.appKey="Fast-Furniture-",ve.setupAssets(function(){_spa=SPA({AppContext:fastFurniture,viewEngine:ve,viewSelector:"[type='text/x-simpleTemplate-template']",defaultPage:"index",viewWrapper:"#main",viewTransition:"slide",defaultTitle:"Fast Furniture"}),ve.loadImport("home/deferred","deferred")});